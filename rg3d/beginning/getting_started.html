<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Getting started - rg3d Cheat Book</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../../rg3d/introduction.html"><strong aria-hidden="true">2.</strong> rg3d</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../rg3d/beginning/getting_started.html" class="active"><strong aria-hidden="true">2.1.</strong> Getting started</a></li><li class="chapter-item expanded "><a href="../../rg3d/animation/animation.html"><strong aria-hidden="true">2.2.</strong> Animation</a></li><li class="chapter-item expanded "><a href="../../rg3d/rendering/rendering.html"><strong aria-hidden="true">2.3.</strong> Rendering</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../rg3d/rendering/shaders.html"><strong aria-hidden="true">2.3.1.</strong> Shaders</a></li><li class="chapter-item expanded "><a href="../../rg3d/rendering/materials.html"><strong aria-hidden="true">2.3.2.</strong> Materials</a></li></ol></li><li class="chapter-item expanded "><a href="../../rg3d/sound/sound.html"><strong aria-hidden="true">2.4.</strong> Sound</a></li><li class="chapter-item expanded "><a href="../../rg3d/physics/physics.html"><strong aria-hidden="true">2.5.</strong> Physics</a></li><li class="chapter-item expanded "><a href="../../rg3d/ui/ui.html"><strong aria-hidden="true">2.6.</strong> User Interface</a></li><li class="chapter-item expanded "><a href="../../rg3d/resources/resources.html"><strong aria-hidden="true">2.7.</strong> Resource Management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../.rg3d/resources/sound.html"><strong aria-hidden="true">2.7.1.</strong> 3D Models</a></li><li class="chapter-item expanded "><a href="../../.rg3d/resources/texture.html"><strong aria-hidden="true">2.7.2.</strong> Textures</a></li><li class="chapter-item expanded "><a href="../../.rg3d/resources/sound.html"><strong aria-hidden="true">2.7.3.</strong> Sound Buffers</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../rusty-editor/introduction.html"><strong aria-hidden="true">3.</strong> rusty-editor</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">rg3d Cheat Book</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>Despite the look of it, the engine is quite friendly to newcomers, especially with some good guides. This section
of the book will guide you the basics of the engine.</p>
<h2 id="framework"><a class="header" href="#framework">Framework</a></h2>
<p>The engine offers special framework to start making games as quickly as possible. It cares about engine initialization,
handles window events, calls every required methods and so on. In other words it helps you to get started as quickly
as possible with a need to put dozens lines of code to just create a window with a game loop.</p>
<p>The simplest app could be created with this code:</p>
<pre><pre class="playground"><code class="language-rust">use rg3d::{
    engine::Engine,
    engine::framework::prelude::*,
};

struct Game { }

impl GameState for Game {
    fn init(_engine: &amp;mut Engine) -&gt; Self where Self: Sized {
        Self { }
    }
}

fn main() {
    Framework::&lt;Game&gt;::new()
        .unwrap()
        .title(&quot;Simple&quot;)
        .run();
}
</code></pre></pre>
<p>The &quot;work-horse&quot; here is the <code>GameState</code> trait, it offers some optional method that could be used depending on 
your needs. </p>
<ul>
<li><code>fn init(engine: &amp;mut Engine) -&gt; Self where Self: Sized</code> - should create the instance of your game. It accepts the engine instance as the first argument
which gives you full access to the engine during the initialization.</li>
<li><code>fn on_tick(&amp;mut self, engine: &amp;mut Engine, dt: f32, control_flow: &amp;mut ControlFlow)</code> - the game loop, it will
be called at fixed 60 FPS rate allowing you to run your game logic. The method gives you full access to the engine
so you're able to work it freely. The <code>dt</code> argument returns the amount of seconds that passed from the previous
call. The last argument (<code>control_flow</code>) allowing you to change the execution flow, for example setting it to 
<code>ControlFlow::Exit</code> will force the game to quit.</li>
<li><code>fn on_ui_message(&amp;mut self, engine: &amp;mut Engine, message: UiMessage)</code> - the main function that listens events 
from the user interface and gives you the ability to react. You should handle your UI in here.</li>
<li><code>fn on_device_event(&amp;mut self, engine: &amp;mut Engine, device_id: DeviceId, event: DeviceEvent)</code> - the function that
allows you to handle input from physical devices (mouse, keyboard, gamepads, etc.).</li>
<li><code>fn on_window_event(&amp;mut self, engine: &amp;mut Engine, event: WindowEvent)</code> - the function that allows you to do 
something when the window of the game receives an event from operating system. The variety of events is large, and
everything depends on what you need. For example this method could be useful handle keyboard events.</li>
<li><code>fn on_exit(&amp;mut self, engine: &amp;mut Engine)</code> - the function that will be called right before your application 
about to shut down allowing you to do some clean up or some other actions.</li>
</ul>
<p>As you can see it is very concise and simple, every method serves a particular purpose. </p>
<h2 id="custom-game-loop-wip"><a class="header" href="#custom-game-loop-wip">Custom game loop (WIP)</a></h2>
<p>The framework might be limiting for some cases, in such situations the engine could be initialized manually. It 
requires some decent amount of code and could error-prone for beginners. You should use custom game loop only if 
you're experienced game developer!</p>
<h2 id="scenes-and-graphs"><a class="header" href="#scenes-and-graphs">Scenes and graphs</a></h2>
<p>When you're playing a game, you often see various objects scattered around on screen, all of them forming a
<em>scene</em>. Scene is just a set of various objects, as in many other game engines, rg3d allows you to create multiple
scenes for various purposes. For example, one scene could be used for menu, a bunch could be used for game levels,
and one for ending screen. Scenes also could be used to create a source of data for other scenes, such scenes called
<em>prefabs</em>. A scene could also be rendered in a texture, and the texture can be used in other scene - this way you
can create interactive screens that showing some other places. </p>
<p>While playing games, you could've noticed that some objects behaves like they're linked to other objects, for example
your character in a role-playing game could carry a sword. While the character holds the sword, it is linked to his
arm. Such relations between the objects could be presented by a graph structure. </p>
<p>Simply speaking, graph is a set of objects with hierarchical relationships between each object. Each object in the
graph is called <em>node</em>. In the example with the sword and the character, the sword is a <em>child</em> node of a character,
which in its turn is a <em>parent</em> node of a character. (Here we intentionally omit the fact that usually character
model contains complex skeleton with multiple bones and the sword is actually attached to one of hand's bones.)</p>
<h3 id="building-blocks-or-scene-nodes"><a class="header" href="#building-blocks-or-scene-nodes">Building blocks or scene nodes</a></h3>
<p>The engine offers various types of &quot;building blocks&quot; for your scene, each such block is called <em>scene node</em>. </p>
<ul>
<li><strong>Base</strong> - a node that stores hierarchical information (a handle to the parent node and a set of handles
to children nodes), local and global transform, name, tag, lifetime, etc. It has self-describing name - it 
is used as a base node for every other scene node (via composition).</li>
<li><strong>Mesh</strong> - a node that represents a 3D model. This one of the most commonly used nodes in almost every game.
Meshes could be easily created either programmatically, or be made in some 3D modelling software (like Blender)
and loaded in your scene.</li>
<li><strong>Light</strong> - a node that represents a light source. There are three types of light sources:
<ul>
<li><strong>Directional</strong> - a light source that does not have position, only direction. The closest real-world example
is our Sun.</li>
<li><strong>Point</strong> - a light source that emits light in every direction. Real-world example: light bulb.</li>
<li><strong>Spot</strong> - a light source that emits light in a particular direction with a cone-like shape. Real-world example:
flashlight.</li>
</ul>
</li>
<li><strong>Camera</strong> - a node that allows you to see the world. You must have at least one camera in your scene to be 
able to see anything.</li>
<li><strong>Sprite</strong> - a node that represents a quad that always faced towards a camera. It can have a texture, size, it
also can be rotated around the &quot;look&quot; axis.</li>
<li><strong>Particle system</strong> - a node that allows you to build visual effects using a huge set of small particles, it
can be used to create smoke, sparks, blood splatters, etc. effects.</li>
<li><strong>Terrain</strong> - a node that allows you to create complex landscapes with minimal effort. </li>
<li><strong>Decal</strong> - a node that paints on other nodes using a texture. It is used to simulate cracks in concrete walls, 
damaged parts of the road, blood splatters, bullet holes, etc.</li>
</ul>
<p>These scene nodes allow you to build almost any kind of game. </p>
<h3 id="local-and-global-coordinates"><a class="header" href="#local-and-global-coordinates">Local and global coordinates</a></h3>
<p>Graph describes your scene in a very natural way, allowing you think in terms of relative and absolute coordinates
when working with <em>scene nodes</em>.</p>
<p>Scene node has two kinds of transform - local and global. Local transform defines where the node is located 
(translation) relative to origin, how much it is scaled (in percent) and rotated (around any arbitrary axis).
Global transform is almost the same, but it also includes the whole chain of transforms of parent nodes. In the
previous example with the character, the sword has its own local transform which tells how much it should be 
moved from origin to be exactly on a hand of the character. But global transform of the swords includes transform 
of the entire character. So if you move the character, the local transform of the sword will remain the same, but
global transform will include the transform of the character.</p>
<p>This mechanism is very simple, yet powerful. The full grace of it unfolds when you're working with 3D models with
skeleton, each bone in the skeleton has its parent and a set of children. You can rotate/translate/scale bones to
animate your character.</p>
<h2 id="data-management-and-generational-arenas-pools"><a class="header" href="#data-management-and-generational-arenas-pools">Data management and generational arenas (pools)</a></h2>
<p>The engine uses generation arenas (pools in engine's terminology) for efficient data management. Pool is a
vector with entries that can be either vacant or occupied. Each entry, no matter occupied it or vacant, also
stores a special number called <em>generation</em>. The generation number is used to understand whether an entry has
been changed over time or not. When an entry is reused, its generation number is increased leaving all previously
created handle leading to the entry invalid. This is a very simple and efficient algorithm for tracking the 
&quot;lifetime&quot; of the objects.</p>
<p>To access the data in entries, the engine uses <em>handles</em>. The handle is a pair of index of an entry and a
<em>generation</em> number. When you put an object in the pool, it gives you the handle that &quot;leads&quot; to the object.
At this moment the generation of the handle matches the generation of the corresponding entry so the handle
is valid. It will remain valid util you &quot;free&quot; the object, which will make the entry vacant again.</p>
<p>Since the pool is just a contiguous memory block, it is much more CPU cache-friendly. This means that in most
cases the data portions will be loaded in CPU caches, making the access to the data blazing fast.</p>
<p>Almost every entity in the engine &quot;lives&quot; in its own pool, this make it easy to create such data structures
like graphs, where a node refers to other nodes. In this case scene nodes stores just handles (which is just 
8 bytes of memory) to other nodes.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../rg3d/introduction.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../../rg3d/animation/animation.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../rg3d/introduction.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../../rg3d/animation/animation.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
